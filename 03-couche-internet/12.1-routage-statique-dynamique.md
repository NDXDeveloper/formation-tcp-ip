üîù Retour au [Sommaire](/SOMMAIRE.md)

# 3.12.1 Routage statique vs dynamique

## Introduction

Lorsqu'un routeur doit d√©cider o√π envoyer un paquet, il consulte sa **table de routage**. Mais comment cette table est-elle remplie ? Il existe deux m√©thodes fondamentalement diff√©rentes : le routage statique et le routage dynamique. Choisir entre ces deux approches est une d√©cision architecturale importante qui impacte la gestion, la performance et la r√©silience de votre r√©seau.

## Le routage statique

### D√©finition

Le **routage statique** consiste √† configurer manuellement les routes dans la table de routage de chaque routeur. Un administrateur r√©seau doit explicitement indiquer √† chaque routeur comment atteindre chaque r√©seau distant.

### Analogie : Les panneaux routiers fixes

Imaginez une petite ville avec des panneaux de signalisation :
- Chaque panneau a √©t√© install√© manuellement par la mairie
- Les panneaux indiquent : "Paris ‚Üí Direction Nord", "Lyon ‚Üí Direction Sud"
- Si une route est bloqu√©e, les panneaux ne changent pas automatiquement
- Pour modifier une direction, il faut qu'un employ√© municipal vienne physiquement changer le panneau

C'est exactement comme cela que fonctionne le routage statique !

### Configuration d'une route statique

Voici √† quoi ressemble une commande de configuration d'une route statique :

```
# Sur un routeur Cisco
ip route 192.168.10.0 255.255.255.0 10.0.0.2

# Sur un syst√®me Linux
ip route add 192.168.10.0/24 via 10.0.0.2
```

**D√©codage** :
- `192.168.10.0/24` : Le r√©seau de destination que nous voulons atteindre
- `via 10.0.0.2` : L'adresse IP du prochain routeur (next-hop) √† utiliser

C'est comme dire : "Pour tous les paquets destin√©s au r√©seau 192.168.10.0/24, envoie-les au routeur 10.0.0.2"

### Exemple concret de r√©seau avec routage statique

Imaginons un petit r√©seau d'entreprise avec 3 sites :

```
[Site A]             [Site B]             [Site C]
192.168.1.0/24       192.168.2.0/24       192.168.3.0/24
     |                    |                     |
  Routeur A ---------- Routeur B ---------- Routeur C
   10.0.0.1          10.0.0.2/10.0.1.1      10.0.1.2
```

**Configuration sur Routeur A** :
```
# Pour atteindre le r√©seau du Site B
ip route 192.168.2.0 255.255.255.0 10.0.0.2

# Pour atteindre le r√©seau du Site C (passe par B)
ip route 192.168.3.0 255.255.255.0 10.0.0.2
```

**Configuration sur Routeur B** :
```
# Pour atteindre le r√©seau du Site A
ip route 192.168.1.0 255.255.255.0 10.0.0.1

# Pour atteindre le r√©seau du Site C
ip route 192.168.3.0 255.255.255.0 10.0.1.2
```

**Configuration sur Routeur C** :
```
# Pour atteindre le r√©seau du Site A (passe par B)
ip route 192.168.1.0 255.255.255.0 10.0.1.1

# Pour atteindre le r√©seau du Site B
ip route 192.168.2.0 255.255.255.0 10.0.1.1
```

### Avantages du routage statique

#### 1. Simplicit√©
- Facile √† comprendre et √† configurer dans les petits r√©seaux
- Pas de protocole complexe √† ma√Ætriser
- Configuration transparente : vous voyez exactement ce qui est configur√©

#### 2. Pr√©visibilit√©
- Les routes ne changent jamais sans intervention humaine
- Aucune surprise : le trafic suit toujours le m√™me chemin
- D√©terminisme complet du comportement du r√©seau

#### 3. S√©curit√©
- Aucun √©change d'informations entre routeurs
- Pas de risque d'injection de fausses routes
- Pas de protocole de routage √† s√©curiser

#### 4. √âconomie de ressources
- Aucune consommation de CPU pour calculer des routes
- Aucune bande passante utilis√©e pour √©changer des informations de routage
- Tables de routage compactes (uniquement les routes n√©cessaires)

#### 5. Contr√¥le total
- L'administrateur d√©cide pr√©cis√©ment du chemin emprunt√©
- Possibilit√© d'optimiser finement selon les besoins m√©tier
- Pas de d√©cisions "automatiques" potentiellement ind√©sirables

### Inconv√©nients du routage statique

#### 1. Scalabilit√© limit√©e
- Devient rapidement ing√©rable au-del√† de quelques routeurs
- Chaque nouveau r√©seau n√©cessite une configuration manuelle sur plusieurs routeurs

**Exemple** : Dans un r√©seau de 10 routeurs avec 50 r√©seaux, vous pourriez avoir √† configurer jusqu'√† 500 routes manuellement !

#### 2. Aucune tol√©rance aux pannes
- Si un lien tombe, les routes statiques ne s'adaptent pas
- Les paquets continuent d'√™tre envoy√©s vers un routeur inaccessible
- N√©cessite une intervention manuelle pour r√©tablir la connectivit√©

**Sc√©nario** :
```
Site A ---------- Site B ---------- Site C
         ‚ùå PANNE

R√©sultat : Le trafic A ‚Üí C est coup√©, m√™me si un chemin alternatif existe
```

#### 3. Maintenance complexe
- Chaque changement n√©cessite une reconfiguration manuelle
- Risque √©lev√© d'erreurs humaines
- Difficult√© √† maintenir la coh√©rence entre tous les routeurs

#### 4. Absence de redondance automatique
- Impossible de basculer automatiquement vers un chemin de secours
- Pas d'√©quilibrage de charge entre plusieurs chemins
- Point de d√©faillance unique pour chaque route

#### 5. Rigidit√©
- Impossible de s'adapter aux conditions du r√©seau (congestion, latence)
- Pas d'optimisation automatique des chemins
- Configuration fig√©e qui ne peut pas √©voluer dynamiquement

### Quand utiliser le routage statique ?

Le routage statique est appropri√© dans les situations suivantes :

#### 1. Petits r√©seaux simples
- 2 √† 5 routeurs maximum
- Topologie simple et stable
- Peu de changements attendus

**Exemple** : Une PME avec un si√®ge et 2 agences

#### 2. R√©seaux "stub"
Un r√©seau stub est un r√©seau qui n'a qu'un seul chemin de sortie.

**Analogie** : Une impasse o√π il n'y a qu'une seule route pour sortir du quartier.

```
        Internet
           |
     [Routeur ISP]
           |
   [Routeur Entreprise] ‚Üê R√©seau stub
           |
    [R√©seau local]
```

Dans ce cas, le routeur d'entreprise peut simplement avoir une **route par d√©faut** :
```
ip route 0.0.0.0 0.0.0.0 [IP du routeur ISP]
```

Traduction : "Pour toute destination inconnue, envoie vers le routeur ISP"

#### 3. Connexions point-√†-point
- Liaison directe entre deux sites
- Un seul chemin possible
- Configuration tr√®s simple

#### 4. Routes de secours
- Route statique flottante avec une m√©trique administrative √©lev√©e
- Utilis√©e uniquement si les routes dynamiques √©chouent

#### 5. Contr√¥le pr√©cis requis
- Environnements hautement s√©curis√©s
- Besoin de chemins tr√®s sp√©cifiques pour certains flux
- Conformit√© r√©glementaire stricte

## Le routage dynamique

### D√©finition

Le **routage dynamique** utilise des protocoles de routage pour permettre aux routeurs de :
- D√©couvrir automatiquement les r√©seaux disponibles
- √âchanger des informations avec les autres routeurs
- Calculer automatiquement les meilleurs chemins
- S'adapter aux changements du r√©seau en temps r√©el

### Analogie : GPS avec info trafic en temps r√©el

Imaginez un GPS moderne connect√© :
- Il conna√Æt toutes les routes disponibles
- Il re√ßoit des mises √† jour en temps r√©el sur l'√©tat du trafic
- Si un accident bloque votre route, il recalcule automatiquement un itin√©raire alternatif
- Il communique avec d'autres GPS et sources de donn√©es pour optimiser le trajet
- Vous n'avez rien √† faire : tout est automatique

C'est exactement ce que font les protocoles de routage dynamique !

### Fonctionnement g√©n√©ral

1. **D√©couverte des voisins**
   - Les routeurs identifient les autres routeurs directement connect√©s
   - √âtablissement de relations de voisinage

2. **√âchange d'informations**
   - Partage des r√©seaux connus
   - Envoi de mises √† jour p√©riodiques ou d√©clench√©es par √©v√©nements

3. **Calcul des routes**
   - Chaque routeur analyse les informations re√ßues
   - Calcule le meilleur chemin vers chaque destination selon les m√©triques

4. **Construction de la table de routage**
   - Les meilleures routes sont install√©es dans la table de routage
   - Mise √† jour automatique en cas de changement

5. **Adaptation aux changements**
   - D√©tection automatique des pannes
   - Recalcul et convergence vers une nouvelle topologie

### Exemple de routage dynamique avec OSPF

Reprenons notre r√©seau de 3 sites, mais cette fois avec OSPF (protocole de routage dynamique) :

```
[Site A]             [Site B]             [Site C]
192.168.1.0/24       192.168.2.0/24       192.168.3.0/24
     |                    |                     |
  Routeur A ---------- Routeur B ---------- Routeur C
  (OSPF activ√©)       (OSPF activ√©)        (OSPF activ√©)
```

**Configuration simplifi√©e sur chaque routeur** :
```
# Activation d'OSPF
router ospf 1
  network 192.168.1.0 0.0.0.255 area 0  # Sur Routeur A
  network 10.0.0.0 0.0.0.255 area 0
```

**R√©sultat** :
- Les routeurs d√©couvrent automatiquement tous les r√©seaux
- Aucune configuration manuelle de routes n√©cessaire
- Si un lien tombe, les routeurs recalculent automatiquement les chemins

### Avantages du routage dynamique

#### 1. Adaptabilit√©
- S'ajuste automatiquement aux changements de topologie
- D√©tection automatique des pannes et des nouveaux chemins
- Convergence automatique apr√®s un changement

**Sc√©nario de panne** :
```
Site A -----‚ùå----- Site B ---------- Site C
  |                                      |
  +------- Chemin de secours ------------+

Avec routage dynamique : Bascule automatique en quelques secondes
Avec routage statique : Trafic coup√© jusqu'√† intervention manuelle
```

#### 2. Scalabilit√©
- Fonctionne efficacement dans les grands r√©seaux
- Ajout de nouveaux routeurs sans reconfiguration massive
- Gestion automatique de centaines ou milliers de routes

#### 3. Tol√©rance aux pannes
- D√©tection rapide des d√©faillances
- Basculement automatique vers des chemins alternatifs
- Haute disponibilit√© sans intervention humaine

#### 4. Optimisation automatique
- S√©lection du meilleur chemin selon les m√©triques configur√©es
- √âquilibrage de charge possible sur plusieurs chemins
- Adaptation aux conditions du r√©seau

#### 5. R√©duction de la charge administrative
- Pas de configuration manuelle de chaque route
- Maintenance simplifi√©e
- Moins d'erreurs humaines

### Inconv√©nients du routage dynamique

#### 1. Complexit√©
- N√©cessite une bonne compr√©hension des protocoles de routage
- Configuration plus technique
- D√©pannage plus difficile

#### 2. Consommation de ressources
- Utilisation de CPU pour les calculs de routes
- Consommation de m√©moire pour stocker les informations de routage
- Utilisation de bande passante pour les mises √† jour

**Exemple** : Dans un r√©seau OSPF, chaque routeur maintient une base de donn√©es compl√®te de la topologie, ce qui peut n√©cessiter plusieurs m√©gaoctets de RAM.

#### 3. Temps de convergence
- D√©lai entre la d√©tection d'un changement et la stabilisation du r√©seau
- Pendant la convergence, certains paquets peuvent √™tre perdus
- Peut varier de quelques secondes √† plusieurs minutes selon le protocole

#### 4. Risques de s√©curit√©
- Possibilit√© d'injection de fausses informations de routage
- N√©cessite des m√©canismes d'authentification
- Vuln√©rable aux attaques si mal configur√©

#### 5. Moins de contr√¥le
- Les routes sont choisies automatiquement selon les algorithmes
- Parfois difficile de forcer un chemin sp√©cifique
- Comportement moins pr√©visible

### Quand utiliser le routage dynamique ?

Le routage dynamique est appropri√© dans les situations suivantes :

#### 1. R√©seaux moyens √† grands
- Plus de 5 routeurs
- Topologie complexe avec multiples chemins
- Nombreux r√©seaux √† interconnecter

#### 2. Besoins de haute disponibilit√©
- Infrastructure critique ne pouvant tol√©rer des interruptions
- N√©cessit√© de basculement automatique
- Chemins redondants

#### 3. Environnements dynamiques
- Topologie changeante fr√©quemment
- Ajout/retrait r√©gulier de sites
- Infrastructure cloud √©lastique

#### 4. Optimisation requise
- Besoin d'√©quilibrage de charge
- Optimisation automatique des chemins
- Adaptation aux conditions r√©seau

## Comparaison d√©taill√©e

| Crit√®re | Routage statique | Routage dynamique |
|---------|------------------|-------------------|
| **Configuration** | Manuelle, route par route | Automatique apr√®s configuration initiale |
| **Scalabilit√©** | Limit√©e (< 10 routeurs) | Excellente (milliers de routeurs) |
| **Adaptation aux pannes** | Aucune | Automatique et rapide |
| **Consommation CPU** | Minimale | Mod√©r√©e √† √©lev√©e |
| **Consommation m√©moire** | Faible | Moyenne √† √©lev√©e |
| **Bande passante de contr√¥le** | Aucune | Variable selon le protocole |
| **Complexit√©** | Faible | Moyenne √† √©lev√©e |
| **Pr√©visibilit√©** | Totale | Variable |
| **S√©curit√© native** | √âlev√©e | N√©cessite configuration |
| **Maintenance** | Lourde et risqu√©e | L√©g√®re mais technique |
| **Convergence** | Aucune (intervention manuelle) | Automatique (secondes √† minutes) |
| **Co√ªt initial** | Faible | Moyen √† √©lev√© (formation) |

## Approches hybrides

Dans la pratique, de nombreux r√©seaux utilisent une **combinaison des deux approches** :

### 1. Routage dynamique interne + routes statiques externes

```
[R√©seau interne]
Routeurs A, B, C, D
‚Üì OSPF entre eux
‚Üì
[Routeur de bordure]
‚Üì Route statique
‚Üì
[Internet via ISP]
```

- OSPF pour la flexibilit√© interne
- Route statique par d√©faut vers Internet

### 2. Routes statiques de secours

```
# Route principale (dynamique via OSPF)
# M√©trique administrative OSPF = 110

# Route statique de backup
ip route 192.168.10.0 255.255.255.0 10.0.0.99 150
# M√©trique administrative = 150 (moins prioritaire)
```

Cette route statique ne sera utilis√©e que si OSPF √©choue.

### 3. Routes statiques pour le trafic sensible

Certains flux critiques peuvent √™tre forc√©s sur des chemins sp√©cifiques via des routes statiques, m√™me dans un r√©seau principalement dynamique.

### 4. Stub areas avec route par d√©faut

Dans OSPF, les zones stub utilisent une route par d√©faut (comme en statique) pour le trafic externe, tout en utilisant le routage dynamique pour le trafic interne.

## Exemples de sc√©narios r√©els

### Sc√©nario 1 : Petite entreprise (routage statique)

**Contexte** :
- 1 si√®ge social
- 2 agences
- 3 routeurs au total
- Topologie simple et stable

**Solution** : Routage statique pur
- Configuration simple et rapide
- Maintenance minimale
- Aucun protocole complexe √† g√©rer

### Sc√©nario 2 : Entreprise multi-sites (routage dynamique)

**Contexte** :
- 1 si√®ge social
- 15 agences r√©gionales
- 50 bureaux distants
- Topologie maill√©e avec chemins redondants

**Solution** : OSPF
- Adaptation automatique aux pannes
- Gestion simplifi√©e de 66 sites
- Haute disponibilit√©

### Sc√©nario 3 : Entreprise avec connexion Internet (hybride)

**Contexte** :
- R√©seau interne complexe
- Connexion √† Internet via un ISP
- Besoin de redondance interne

**Solution** : OSPF interne + route statique par d√©faut
```
# Sur le routeur de bordure
router ospf 1
  default-information originate

ip route 0.0.0.0 0.0.0.0 [IP ISP]
```

- OSPF g√®re le r√©seau interne
- Route statique vers Internet propag√©e par OSPF

### Sc√©nario 4 : Data center (routage dynamique avanc√©)

**Contexte** :
- Infrastructure cloud
- Centaines de serveurs
- Topologie dynamique (VMs cr√©√©es/d√©truites)
- Besoin de haute performance

**Solution** : BGP ou OSPF avec ECMP
- √âquilibrage de charge sur multiple chemins
- Adaptation instantan√©e aux changements
- Optimisation des flux

## Migration du statique vers le dynamique

Si votre r√©seau grandit, vous devrez peut-√™tre migrer du routage statique vers le dynamique. Voici une approche progressive :

### √âtape 1 : Pr√©paration
- Documenter la topologie actuelle et toutes les routes statiques
- Choisir le protocole de routage adapt√©
- Former l'√©quipe

### √âtape 2 : D√©ploiement progressif
- Activer le protocole de routage en parall√®le des routes statiques
- Augmenter la m√©trique administrative des routes statiques pour les rendre moins prioritaires
- Observer le comportement

### √âtape 3 : Validation
- V√©rifier que toutes les routes dynamiques sont apprises
- Tester la connectivit√©
- Valider la convergence en cas de panne

### √âtape 4 : Suppression du statique
- Retirer progressivement les routes statiques devenues inutiles
- Conserver uniquement les routes statiques n√©cessaires (route par d√©faut, routes de secours)

## Points cl√©s √† retenir

1. **Le routage statique** est simple, pr√©visible et s√©curis√©, mais ne s'adapte pas aux changements
2. **Le routage dynamique** est flexible, scalable et r√©silient, mais plus complexe
3. **Le choix d√©pend** de la taille du r√©seau, de la topologie, et des exigences de disponibilit√©
4. **Les approches hybrides** sont courantes et souvent optimales
5. **Petits r√©seaux** (< 5 routeurs) ‚Üí Statique g√©n√©ralement suffisant
6. **Grands r√©seaux** (> 10 routeurs) ‚Üí Dynamique quasi indispensable
7. **Les routes par d√©faut** et les **routes de secours** sont souvent statiques m√™me dans les r√©seaux dynamiques

## Ce qui vient ensuite

Dans les sections suivantes, nous allons explorer en d√©tail :
- **3.12.2** : Les protocoles √† vecteur de distance (RIP) - un exemple de routage dynamique simple
- **3.12.3** : Les protocoles √† √©tat de lien (OSPF) - le standard des r√©seaux d'entreprise
- **3.12.4** : BGP - le protocole qui fait tourner Internet
- Comment ces protocoles fonctionnent concr√®tement et quand les utiliser

---

**Conseil pratique** : Si vous d√©butez, commencez par ma√Ætriser le routage statique dans un environnement de lab. Cela vous donnera une compr√©hension solide des concepts de routage avant d'aborder les protocoles dynamiques plus complexes. Comprendre comment configurer manuellement des routes vous aidera grandement √† comprendre ce que font automatiquement les protocoles de routage dynamiques !

‚è≠Ô∏è [Protocoles √† vecteur de distance : RIP](/03-couche-internet/12.2-protocoles-vecteur-distance.md)
